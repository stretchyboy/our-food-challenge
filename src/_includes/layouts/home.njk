---
layout: layouts/base.njk
templateClass: tmpl-home
---

{# The Home page uses this template–it extends the base template #}

<div class="wrapper home">
  <div class="content">
    {{ content | safe }}
    <table>
      {%- for post in collections.posts -%}
      <tr>
        <th>
          <a href="{{ post.url }}">
            {{ post.data.title }}
          </a>
        </th>
        <td>{% if post.data.date %}{{ post.data.date | htmlDateString }}{% else %} &nbsp; {% endif %}</td>
        <td>   
          <img src="https://flagcdn.com/h60/{{post.data.iso | lower}}.png" height="50" />
        </td>
        <td>
          <div
            class="mini-map"
            style="width: 100px; height: 60px;"
            data-iso="{% if post.data.mapRegion %}{{ post.data.mapRegion | upper }}{% else %}{{ post.data.iso | upper }}{% endif %}"
            {% if post.data.mapFocus and post.data.mapFocus.coords %}
            data-lat="{{ post.data.mapFocus.coords[0] }}"
            data-lng="{{ post.data.mapFocus.coords[1] }}"
            data-scale="{% if post.data.mapFocus.scale %}{{ post.data.mapFocus.scale }}{% else %}3.2{% endif %}"
            {% endif %}
          ></div>
        </td>
     </tr> 
     {%- endfor -%}
    </table> 
     
<!--    
    {# After the the content defined in index.md, list the blog posts in the collection #}
    <ul>
      {%- for post in collections.posts -%}
        <li{% if page.url == post.url %} aria-current="page"{% endif %}>{{ post.data.page.date | htmlDateString }} — <a href='{{ post.url }}'>{{ post.data.title }}</a>
          
          <img src="https://flagcdn.com/h40/{{post.data.iso | lower}}.png" height="30" />
          <img src="https://www.worldometers.info/img/maps_c/{% if post.data.locator %}{{post.data.locator}}{% else %}{{post.data.iso}}{% endif %}-map.gif" height="30"/>
          <img src="https://www.worldometers.info/img/maps_cl/{% if post.data.locator %}{{post.data.locator}}{% else %}{{post.data.iso}}{% endif %}-locator-map.gif" height="30"/>
    
          </li>
      {%- endfor -%}
      <li><a href="/posts">View all posts</a></li>
    </ul>
  </div>
-->


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jsvectormap/1.4.3/css/jsvectormap.css" integrity="sha512-R/p6hEdcHJdQ5967L0K8A4wO2xyg5SDgFrESWemL+GhQR5EIJ2fsNEnvzEKgr2MCRNgNEJwVQIKDQ68cThxQpg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/jsvectormap/1.4.3/js/jsvectormap.min.js" integrity="sha512-qIjvxoJojZ64SLBuklyHGh7Bmc0CXhp0KhsDD19y8q935nh/KgHIpJbXcsoZlzzR2Wf78CpH34jiclEqzZ8quQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jsvectormap/1.4.3/maps/world.js" integrity="sha512-fzlKic/RyjgLIbkRywhW3cYwiI+XgcslngfOzC+p/2D5OBDvJQkp56pBRcfvj7Rd471B4UnweDMBGcPetMse1A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



    
<div id="map" style="width: 1200px; height: 700px"></div>
    
    
  <script>  
const map = new jsVectorMap({
  selector: '#map',
  map: 'world',
  backgroundColor: '#dff0ff',
  selectedRegions: [
    
   {%- for post in collections.posts -%}
      {% if post.data.iso %} "{{post.data.iso}}", {% endif %}
  {%- endfor -%}  
  
  ],
    regionStyle: {
    initial: { fill: '#4f6b7a', stroke: '#ffffff', strokeWidth: 0.25 },
    hover: { fill: '#3f5865' },
    selected: { fill: 'red' },
    selectedHover: { fill: 'purple' }
    }                 
})

document.querySelectorAll('.mini-map').forEach((element, index) => {
  const id = `mini-map-${index + 1}`
  element.id = id

  const iso = element.dataset.iso
  const latitude = Number(element.dataset.lat)
  const longitude = Number(element.dataset.lng)
  const scale = Number(element.dataset.scale)

  const config = {
    selector: `#${id}`,
    map: 'world',
    backgroundColor: '#dff0ff',
    selectedRegions: [iso],
    regionStyle: {
      initial: { fill: '#4f6b7a', stroke: '#ffffff', strokeWidth: 0.25 },
      hover: { fill: '#3f5865' },
      selected: { fill: 'red' },
      selectedHover: { fill: 'red' }
    },
    zoomOnScroll: false,
    zoomButtons: false,
    panOnDrag: false,
    draggable: false
  }

  if (Number.isFinite(latitude) && Number.isFinite(longitude)) {
    config.focusOn = {
      coords: [latitude, longitude],
      scale: Number.isFinite(scale) ? scale : 3.2,
      animate: false
    }
    config.markers = [{ coords: [latitude, longitude], name: iso }]
  } else {
    config.focusOn = {
      region: iso,
      animate: false
    }
  }

  new jsVectorMap(config)
})
    </script>


</div>


